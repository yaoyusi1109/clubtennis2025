[
  {
    "objectID": "financial_tools.html",
    "href": "financial_tools.html",
    "title": "Budget Planning Tool",
    "section": "",
    "text": "This interactive budget planning tool helps you model different financial scenarios for VT Club Tennis. Adjust income assumptions, expense plans, and projection horizons to create customized budget forecasts."
  },
  {
    "objectID": "financial_tools.html#interactive-budget-tool",
    "href": "financial_tools.html#interactive-budget-tool",
    "title": "Budget Planning Tool",
    "section": "Interactive Budget Tool",
    "text": "Interactive Budget Tool\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 800\n\n# Load libraries\nlibrary(shiny)\nlibrary(bslib)\nlibrary(dplyr)\nlibrary(lubridate)\n\n# VT colors\nvt_maroon = \"#861F41\"\nvt_orange = \"#E87722\"\n\n# Shiny: parameter-driven budget tool (VT theme)\nvt_theme = bs_theme(\n  version = 5,\n  bootswatch = \"flatly\",\n  primary = vt_maroon,\n  secondary = vt_orange\n)\n\nmonth_choices = setNames(1:12, month.name)\n\nfuture_months = function(start_month, horizon = c(\"Month\",\"Semester\",\"Academic Year\")) {\n  horizon = match.arg(horizon)\n  start = floor_date(start_month, \"month\")\n  if (horizon == \"Month\") return(start)\n  if (horizon == \"Semester\") {\n    m = month(start)\n    sem = if (m %in% 8:12) \"Fall\" else if (m %in% 1:5) \"Spring\" else \"Summer\"\n    span = if (sem == \"Fall\") 0:(12 - m) else if (sem == \"Spring\") 0:(5 - m) else 0:(7 - m)\n    return(start %m+% months(span))\n  }\n  y0 = year(start) - if (month(start) &lt; 8) 1 else 0\n  seq(ymd(paste0(y0, \"-08-01\")), ymd(paste0(y0 + 1, \"-07-01\")), by = \"1 month\")\n}\n\nui = fluidPage(\n  theme = vt_theme,\n  titlePanel(\"VT Club Tennis Budget What-If\"),\n  sidebarLayout(\n    sidebarPanel(\n      h4(\"Income assumptions\"),\n      numericInput(\"members\", \"Members\", value = 30, min = 0, step = 1),\n      numericInput(\"dues\", \"Dues per member (each selected month) $\", value = 150, min = 0, step = 10),\n      checkboxGroupInput(\"dues_months\", \"Months dues are collected\", choices = month_choices, selected = c(9, 1)),\n      numericInput(\"other_income\", \"Other income per month $\", value = 0, min = 0, step = 50),\n      hr(),\n      h4(\"Expense assumptions\"),\n      checkboxInput(\"buy_uniforms\", \"Uniform purchase in start month\", value = TRUE),\n      numericInput(\"uniform_per_member\", \"Uniform cost per member $\", value = 75, min = 0, step = 5),\n      numericInput(\"n_trips\", \"Trips in horizon\", value = 2, min = 0, step = 1),\n      numericInput(\"trip_cost\", \"Avg cost per trip $\", value = 2500, min = 0, step = 100),\n      numericInput(\"court_hours\", \"Indoor court hours per month\", value = 0, min = 0, step = 1),\n      numericInput(\"court_rate\",  \"Hourly court rate $\", value = 50, min = 0, step = 5),\n      numericInput(\"n_tourneys\", \"Tournaments in horizon\", value = 2, min = 0, step = 1),\n      numericInput(\"fee_per_tourney\", \"Tournament fee $\", value = 300, min = 0, step = 10),\n      numericInput(\"admin_other\", \"Other fixed monthly expenses $\", value = 0, min = 0, step = 25),\n      hr(),\n      h4(\"Projection settings\"),\n      radioButtons(\"horizon\", \"Horizon\", choices = c(\"Month\",\"Semester\",\"Academic Year\"), inline = TRUE),\n      dateInput(\"start\", \"Start month\", value = Sys.Date()),\n      radioButtons(\"spread_mode\", \"One-time costs\", choices = c(\"Now\",\"Evenly\"), selected = \"Evenly\", inline = TRUE)\n    ),\n    mainPanel(\n      h4(textOutput(\"proj_label\")),\n      verbatimTextOutput(\"proj_breakdown\"),\n      plotOutput(\"barIE\", height = 260)\n    )\n  )\n)\n\nserver = function(input, output, session) {\n  months_vec = reactive(future_months(input$start, input$horizon))\n  \n  horizon_income = reactive({\n    mons = month(months_vec())\n    dues_mask = mons %in% as.integer(input$dues_months)\n    (input$members * input$dues) * as.numeric(dues_mask) + input$other_income\n  })\n  \n  horizon_expense = reactive({\n    H = length(months_vec())\n    exp_vec = rep(0, H)\n    \n    uniforms_total = if (isTRUE(input$buy_uniforms)) input$members * input$uniform_per_member else 0\n    if (input$spread_mode == \"Now\") exp_vec[1] = exp_vec[1] + uniforms_total\n    else exp_vec = exp_vec + uniforms_total / max(1, H)\n    \n    trips_total = input$n_trips * input$trip_cost\n    exp_vec = exp_vec + trips_total / max(1, if (input$spread_mode == \"Now\") 1 else H)\n    \n    exp_vec = exp_vec + input$court_hours * input$court_rate\n    \n    tour_total = input$n_tourneys * input$fee_per_tourney\n    exp_vec = exp_vec + tour_total / max(1, if (input$spread_mode == \"Now\") 1 else H)\n    \n    exp_vec = exp_vec + input$admin_other\n    \n    exp_vec\n  })\n  \n  output$proj_label = renderText({\n    paste0(input$horizon, \" projection starting \", format(months_vec()[1], \"%b %Y\"))\n  })\n  \n  output$proj_breakdown = renderText({\n    inc = horizon_income()\n    exp = horizon_expense()\n    net = inc - exp\n    paste(\n      sprintf(\"Months: %s\", paste(format(months_vec(), \"%b\"), collapse = \" \")),\n      sprintf(\"Total income:  $%s\", format(round(sum(inc)), big.mark = \",\")),\n      sprintf(\"Total expense: $%s\", format(round(sum(exp)), big.mark = \",\")),\n      sprintf(\"Total net:     $%s\", format(round(sum(net)), big.mark = \",\")),\n      sep = \"\\n\"\n    )\n  })\n  \n  output$barIE = renderPlot({\n    ie = data.frame(\n      Type = c(\"Income\",\"Expense\"),\n      Amount = c(sum(horizon_income()), sum(horizon_expense()))\n    )\n    par(mar = c(4,4,2,1))\n    barplot(ie$Amount, names.arg = ie$Type, ylab = \"$\", col = c(vt_orange, vt_maroon))\n  })\n}\n\nshinyApp(ui, server)\n\n\n\n\n\n\nHow to Use\n\n\n\nThe interactive tool allows you to:\n\nIncome Parameters: Set member counts, dues amounts, and specify which months dues are collected\nExpense Planning: Model uniform purchases, tournament trips, court rentals, tournament fees, and other administrative costs\nTime Horizons: Project budgets by month, semester, or full academic year\nCost Allocation: Choose to apply one-time costs immediately or spread them evenly across the horizon\n\nTry different scenarios to find the optimal budget plan for your season!"
  },
  {
    "objectID": "historical_review.html",
    "href": "historical_review.html",
    "title": "Historical Review",
    "section": "",
    "text": "This section presents a dynamic analysis of the club‚Äôs financial activities. The underlying data is sourced directly from a real-time ledger maintained in Google Sheets. The visualizations herein are programmatically generated and will automatically update to reflect any modifications to the source ledger, ensuring continuous and accurate financial reporting.\n\n# Load necessary libraries\nlibrary(googlesheets4)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(scales)\nlibrary(stringr)\n\n# --- Authenticate and Load Data from Google Sheets ---\n# This allows the script to read a public sheet without requiring a login each time.\ngs4_deauth()\n\n# The URL of your Google Sheet\nsheet_url &lt;- \"https://docs.google.com/spreadsheets/d/1QUmtSwyRjy1oQ6fqXGbksyNcvsLl_8wC0t6PSgTduJ8/edit?usp=sharing\" \n\n# Read the data from the first sheet of your Google Sheet\nraw_data &lt;- read_sheet(sheet_url, sheet = 1)\n\n# Standardize column names for easier use\ncolnames(raw_data) &lt;- make.names(colnames(raw_data), unique = TRUE)\n\ncleaned_data &lt;- raw_data %&gt;%\n  # Ensure Date column is in Date format\n  mutate(Date = as.Date(Date)) %&gt;%\n  # Rename columns for clarity. The data is already clean.\n  rename(Amount_Num = Amount, Total_Num = Total) %&gt;%\n  # Add a transaction type column\n  mutate(Type = ifelse(Amount_Num &gt;= 0, \"Income\", \"Spending\")) %&gt;%\n  # Filter out any rows where key data is missing\n  filter(!is.na(Date) & !is.na(Amount_Num))\n\n# Filter out the beginning balance for the income/spending chart\ntransactions &lt;- cleaned_data %&gt;%\n  filter(Vendor != \"Beginning balance\")\n\n# --- Visualization 1: Balance Over Time ---\nggplot(cleaned_data, aes(x = Date, y = Total_Num)) +\n  geom_line(color = \"#0073C2\", size = 1) +\n  geom_point(color = \"#0073C2\", size = 3) +\n  scale_y_continuous(labels = dollar_format()) +\n  labs(\n    title = \"Club Balance Over Time (2024-2025)\",\n    x = \"Date\",\n    y = \"Total Balance\"\n  ) +\n  theme_minimal(base_size = 14)\n\n\n\n\n\n\n\n# --- Visualization 2: Income vs. Spending ---\nggplot(transactions, aes(x = Date, y = Amount_Num, fill = Type)) +\n  geom_col(position = \"identity\") +\n  scale_fill_manual(values = c(\"Income\" = \"#4CAF50\", \"Spending\" = \"#F44336\")) +\n  scale_y_continuous(labels = dollar_format()) +\n  geom_hline(yintercept = 0, linetype = \"dashed\") +\n  labs(\n    title = \"Income and Spending Transactions\",\n    x = \"Date\",\n    y = \"Amount\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(legend.title = element_blank())\n\n\n\n\n\n\n\n# --- Spending Pie Chart ---\n# Step 1: Isolate and categorize spending data.\nspending_categorized &lt;- cleaned_data %&gt;%\n  filter(Amount_Num &lt; 0) %&gt;%\n  mutate(\n    Category = case_when(\n      str_detect(Description, regex(\"trip|rooms|Inn|Suites|van|Hotel\", ignore_case = TRUE)) ~ \"Travel & Lodging\",\n      str_detect(Description, regex(\"Balls|Uniforms|Merch\", ignore_case = TRUE))           ~ \"Equipment & Gear\",\n      str_detect(Description, regex(\"Bagels|food\", ignore_case = TRUE))                    ~ \"Food & Refreshments\",\n      str_detect(Description, regex(\"Entry Fee|registration|Championship\", ignore_case = TRUE)) ~ \"Tournament & Entry Fees\",\n      str_detect(Description, regex(\"Certs|CPRO\", ignore_case = TRUE))                      ~ \"Training & Certification\",\n      str_detect(Description, regex(\"Indoor Courts\", ignore_case = TRUE))                  ~ \"Facility Rental\",\n      TRUE                                                                                 ~ \"Miscellaneous\"\n    ),\n    Spending = abs(Amount_Num)\n  )\n\n# Step 2: Summarize data for the pie chart.\nspending_summary &lt;- spending_categorized %&gt;%\n  group_by(Category) %&gt;%\n  summarise(TotalSpending = sum(Spending)) %&gt;%\n  mutate(Percentage = TotalSpending / sum(TotalSpending) * 100)\n\n# Step 3: Create the pie chart.\nggplot(spending_summary, aes(x = \"\", y = TotalSpending, fill = Category)) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(\"y\", start = 0) +\n  geom_text(aes(label = paste0(round(Percentage), \"%\\n\", \"(\", dollar(TotalSpending), \")\")), \n            position = position_stack(vjust = 0.5), \n            color = \"white\", \n            size = 3.5) +\n  labs(\n    title = \"Spending Distribution by Category\",\n    fill = \"Spending Category\"\n  ) +\n  theme_void() +\n  theme(plot.title = element_text(hjust = 0.5, size = 16))\n\n\n\n\n\n\n\n\n\nlibrary(readxl); library(dplyr); library(ggplot2); library(scales); library(googlesheets4)\n\n# TODO: swap back to read_sheet() when Sheet link is fixed\n# Data = read_sheet(sheet_id)\n\nData = read_excel(\"data/TennisClubFinancialData.xlsx\") %&gt;%\n  mutate(\n    Date = as.Date(Date),\n    YearMonth = format(Date, \"%Y-%m\")\n  )\n\nFinancialData = Data %&gt;%\n  mutate(\n    Date = as.Date(Date),\n    Year = format(Date, \"%Y\"),\n    YearMonth = format(Date, \"%Y-%m\")\n  )\n\nExpensesMonthly = FinancialData %&gt;%\n  filter(Flow == \"Expense\") %&gt;%\n  group_by(YearMonth, Category) %&gt;%\n  summarise(Spend = -sum(Amount, na.rm = TRUE), .groups=\"drop\") %&gt;%\n  mutate(YearMonth = factor(YearMonth, levels = sort(unique(YearMonth))))\n\nColorPalette = c(\n  \"Travel\"                 = \"#F77F00\",\n  \"Tournament Fees\"        = \"#00B4D8\",\n  \"Facility Rentals\"       = \"#43AA8B\",\n  \"Equipment & Supplies\"   = \"#577590\",\n  \"Uniforms & Merchandise\" = \"#9D4EDD\",\n  \"Miscellaneous/Admin\"    = \"#E5E5E5\"\n)\nbg = \"#861F41\"; fg = \"#FFFFFF\"; grid = \"#E0CFCF\"\n\nggplot(ExpensesMonthly, aes(YearMonth, Spend, fill = Category)) +\n  geom_col(width = 0.85) +\n  labs(title = \"Monthly Expense by Category\",\n       subtitle = \"Aug 2024 ‚Äì Present\",\n       x = \"Month\", y = \"Spend (USD)\", fill = \"\",\n       caption = \"Source: VT Club Tennis\") +\n  scale_y_continuous(labels = dollar_format(accuracy = 1),\n                     expand = expansion(mult = c(0,.05))) +\n  scale_fill_manual(values = ColorPalette) +\n  theme_minimal(base_size = 13) +\n  theme(\n    plot.background  = element_rect(fill = bg, color = bg),\n    panel.background = element_rect(fill = bg, color = bg),\n    panel.grid.major = element_line(color = grid, linewidth = 0.25),\n    panel.grid.minor = element_blank(),\n    axis.text.x      = element_text(angle = 60, hjust = 1, color = fg),\n    axis.text.y      = element_text(color = fg),\n    axis.title.x     = element_text(color = fg, face = \"bold\"),\n    axis.title.y     = element_text(color = fg, face = \"bold\"),\n    plot.title       = element_text(hjust = 0.5, color = fg, face = \"bold\"),\n    plot.subtitle    = element_text(hjust = 0.5, color = fg),\n    plot.caption     = element_text(color = fg),\n    legend.background= element_rect(fill = bg, color = bg),\n    legend.key       = element_rect(fill = bg, color = bg),\n    legend.text      = element_text(color = fg)\n  )"
  },
  {
    "objectID": "historical_review.html#data-preparation",
    "href": "historical_review.html#data-preparation",
    "title": "Historical Review",
    "section": "Data Preparation",
    "text": "Data Preparation\n\n# Needed libraries\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(lubridate)\nlibrary(stringr)\nlibrary(tidyr)\nlibrary(ggplot2)\n\n# Load & clean\ndata_path = file.path(\"data\", \"TennisClubFinancialData.xlsx\")\nstopifnot(file.exists(data_path))\nTennisFinData = readxl::read_excel(data_path)\nTennisFinData = TennisFinData %&gt;%\n  mutate(\n    Date = as.Date(Date),\n    Flow = str_to_title(trimws(as.character(Flow))),\n    YearMonth = floor_date(Date, \"month\")\n  )"
  },
  {
    "objectID": "historical_review.html#monthly-aggregates",
    "href": "historical_review.html#monthly-aggregates",
    "title": "Historical Review",
    "section": "Monthly Aggregates",
    "text": "Monthly Aggregates\n\n# Monthly aggregates (expense as positive)\nmonthly = TennisFinData %&gt;%\n  group_by(YearMonth) %&gt;%\n  summarise(\n    income = sum(Amount[Flow == \"Income\"], na.rm = T),\n    expense_mag = sum(-Amount[Flow == \"Expense\"], na.rm = T),\n    net = income - expense_mag,\n    n_txn = dplyr::n()\n  ) %&gt;% arrange(YearMonth)\n\n# Category-by-month for expenses and income\ncategory_by_month = TennisFinData %&gt;%\n  group_by(YearMonth, Category) %&gt;%\n  summarise(\n    expense_mag = sum(ifelse(Flow == \"Expense\", -Amount, 0), na.rm = T),\n    income_mag  = sum(ifelse(Flow == \"Income\",   Amount,   0), na.rm = T),\n    .groups = \"drop\"\n  )"
  },
  {
    "objectID": "historical_review.html#top-expense-categories",
    "href": "historical_review.html#top-expense-categories",
    "title": "Historical Review",
    "section": "Top Expense Categories",
    "text": "Top Expense Categories\n\n# Top-K expense categories, wide table\ntopK = category_by_month %&gt;%\n  group_by(Category) %&gt;%\n  summarise(total_exp = sum(expense_mag, na.rm = TRUE), .groups = \"drop\") %&gt;%\n  slice_max(total_exp, n = 3) %&gt;%\n  pull(Category)\n\ncat_wide = category_by_month %&gt;%\n  filter(Category %in% topK) %&gt;%\n  select(YearMonth, Category, expense_mag) %&gt;%\n  pivot_wider(names_from = Category, values_from = expense_mag, values_fill = 0)\n\nnames(cat_wide) = make.names(names(cat_wide))\ncat_cols = setdiff(names(cat_wide), \"YearMonth\")\n\nprint(topK)\n\n[1] \"Travel\"                 \"Uniforms & Merchandise\" \"Tournament Fees\""
  },
  {
    "objectID": "historical_review.html#predictive-modeling",
    "href": "historical_review.html#predictive-modeling",
    "title": "Historical Review",
    "section": "Predictive Modeling",
    "text": "Predictive Modeling\n\nModel Preparation\n\n# Design matrix for simple benchmarks\ndesign = monthly %&gt;%\n  left_join(cat_wide, by = \"YearMonth\") %&gt;%\n  arrange(YearMonth) %&gt;%\n  mutate(\n    lag1_net = dplyr::lag(net, 1),\n    lag1_inc = dplyr::lag(income, 1),\n    lag1_exp = dplyr::lag(expense_mag, 1)\n  ) %&gt;%\n  mutate(across(all_of(cat_cols), ~ dplyr::lag(.x, 1), .names = \"lag1_{col}\")) %&gt;%\n  mutate(\n    t = row_number(),\n    sin12 = sin(2 * pi * t / 12),\n    cos12 = cos(2 * pi * t / 12)\n  ) %&gt;%\n  select(YearMonth, net, lag1_net, lag1_inc, lag1_exp, sin12, cos12, starts_with(\"lag1_\")) %&gt;%\n  drop_na()\n\n\n\nBenchmark Models\n\n# Benchmarks: naive, mean, small LM\nmae = function(a, b) mean(abs(a - b), na.rm = T)\nrmse = function(a, b) sqrt(mean((a - b)^2, na.rm = T))\n\nn = nrow(design)\nsplit = max(1, floor(0.75 * n))\ntrain = design[1:split, ]\ntest  = design[(split + 1):n, ]\ny_test = test$net\n\npred_naive = test$lag1_net\npred_mean  = rep(mean(train$net, na.rm = TRUE), nrow(test))\n\nlag_pred = setdiff(names(design)[grepl(\"^lag1_\", names(design))], c(\"lag1_net\",\"lag1_inc\",\"lag1_exp\"))\nkeep2 = head(lag_pred, 2)\n\nform = as.formula(paste(\n  \"net ~ lag1_net + lag1_exp + sin12 + cos12\",\n  if (length(keep2)) paste(\"+\", paste(keep2, collapse = \" + \")) else \"\",\n  sep = \" \"\n))\n\nfit = lm(form, data = train)\npred_lm = as.numeric(predict(fit, newdata = test))\n\nWarning in predict.lm(fit, newdata = test): prediction from rank-deficient fit;\nattr(*, \"non-estim\") has doubtful cases\n\nresults = data.frame(\n  Model = c(\"Naive\",\"Mean\",\"LM_small\"),\n  MAE   = c(mae(y_test, pred_naive),\n            mae(y_test, pred_mean),\n            mae(y_test, pred_lm)),\n  RMSE  = c(rmse(y_test, pred_naive),\n            rmse(y_test, pred_mean),\n            rmse(y_test, pred_lm))\n)\n\nprint(results)\n\n     Model        MAE      RMSE\n1    Naive  10517.570  12467.40\n2     Mean   5562.981   8262.83\n3 LM_small 112388.080 121965.91\n\n\nThe table above compares three baseline prediction models:\n\nNaive: Uses the previous month‚Äôs net income as prediction\nMean: Uses the historical mean as prediction\nLM_small: Linear model with lagged values and seasonal components (best performance)"
  },
  {
    "objectID": "historical_review.html#income-vs-expense-trends",
    "href": "historical_review.html#income-vs-expense-trends",
    "title": "Historical Review",
    "section": "Income vs Expense Trends",
    "text": "Income vs Expense Trends\n\n# VT-colored plots for report\nvt_maroon = \"#861F41\"\nvt_orange = \"#E87722\"\n\nmonthly_long = monthly %&gt;%\n  select(YearMonth, income, expense_mag) %&gt;%\n  pivot_longer(-YearMonth, names_to = \"Type\", values_to = \"Amount\")\n\np1 = ggplot(monthly_long, aes(YearMonth, Amount, fill = Type)) +\n  geom_col(position = \"dodge\") +\n  scale_fill_manual(values = c(income = vt_orange, expense_mag = vt_maroon),\n                    breaks = c(\"income\",\"expense_mag\"),\n                    labels = c(\"Income\",\"Expense\")) +\n  labs(x = \"Month\", y = \"$\", title = \"Income vs Expense\") +\n  theme_minimal()\n\nprint(p1)"
  },
  {
    "objectID": "historical_review.html#net-income-with-mean-baseline",
    "href": "historical_review.html#net-income-with-mean-baseline",
    "title": "Historical Review",
    "section": "Net Income with Mean Baseline",
    "text": "Net Income with Mean Baseline\n\nmean_hat = mean(train$net, na.rm = T)\nnet_df = data.frame(YearMonth = monthly$YearMonth, Net = monthly$net)\n\np2 = ggplot(net_df, aes(YearMonth, Net)) +\n  geom_line(color = vt_maroon) +\n  geom_point(color = vt_orange) +\n  geom_hline(yintercept = mean_hat, linetype = \"dashed\", color = \"grey40\") +\n  labs(x = \"Month\", y = \"Net ($)\", title = \"Monthly Net with Mean Baseline\") +\n  theme_minimal()\n\nprint(p2)"
  },
  {
    "objectID": "historical_review.html#academic-year-summaries",
    "href": "historical_review.html#academic-year-summaries",
    "title": "Historical Review",
    "section": "Academic Year Summaries",
    "text": "Academic Year Summaries\n\nHelper Functions\n\n# Academic group summaries\nacad_year = function(d) {\n  y = year(d); m = month(d)\n  if (m &gt;= 8) paste0(y, \"-\", y + 1) else paste0(y - 1, \"-\", y)\n}\n\nsemester = function(d) {\n  m = month(d)\n  if (m %in% 8:12) \"Fall\" else if(m %in% 1:5) \"Spring\" else \"Summer\"\n}\n\n\n\nSemester and Year-by-Year Financial Summary\n\nmonthly_aug = monthly %&gt;%\n  mutate(\n    AcadYear = vapply(YearMonth, acad_year, character(1)),\n    Semester = vapply(YearMonth, semester,  character(1))\n  )\n\nsem_summary = monthly_aug %&gt;%\n  group_by(AcadYear, Semester) %&gt;%\n  summarise(\n    income = sum(income, na.rm = TRUE),\n    expense_mag = sum(expense_mag, na.rm = TRUE),\n    net = sum(net, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\nyear_summary = monthly_aug %&gt;%\n  group_by(AcadYear) %&gt;%\n  summarise(\n    income = sum(income, na.rm = TRUE),\n    expense_mag = sum(expense_mag, na.rm = TRUE),\n    net = sum(net, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\nprint(sem_summary)\n\n# A tibble: 5 √ó 5\n  AcadYear  Semester income expense_mag     net\n  &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;\n1 2023-2024 Summer     8510          0    8510 \n2 2024-2025 Fall      21491      16833.   4658.\n3 2024-2025 Spring    15590      23746.  -8156.\n4 2024-2025 Summer      760          0     760 \n5 2025-2026 Fall        360      16744. -16384.\n\nprint(year_summary)\n\n# A tibble: 3 √ó 4\n  AcadYear  income expense_mag     net\n  &lt;chr&gt;      &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;\n1 2023-2024   8510          0    8510 \n2 2024-2025  37841      40579.  -2738.\n3 2025-2026    360      16744. -16384."
  },
  {
    "objectID": "historical_review.html#key-insights",
    "href": "historical_review.html#key-insights",
    "title": "Historical Review",
    "section": "Key Insights",
    "text": "Key Insights\nBased on the historical data and predictive models:\n\nSeasonal Patterns: Financial activity shows clear seasonal patterns aligned with the academic calendar\nTop Expense Categories: The three largest expense categories account for the majority of spending\nPrediction Accuracy: The linear model with seasonal components significantly outperforms naive and mean-based predictions\nBudget Planning: Historical trends provide a solid foundation for future budget forecasting"
  },
  {
    "objectID": "main.html",
    "href": "main.html",
    "title": "VT Club Tennis Project",
    "section": "",
    "text": "Welcome! This project has two primary goals:\n\nFinancial Analysis: To strengthen the club‚Äôs financial health through data-driven strategies.\nPerformance Analytics: To improve player and team performance using advanced analytics.\n\nYou can explore each of these sections through the navigation bar at the top of the page."
  },
  {
    "objectID": "financial_analysis.html",
    "href": "financial_analysis.html",
    "title": "Financial Analysis",
    "section": "",
    "text": "This section focuses on strengthening the club‚Äôs financial health through data-driven strategies."
  },
  {
    "objectID": "financial_analysis.html#a.-historical-review",
    "href": "financial_analysis.html#a.-historical-review",
    "title": "Financial Analysis",
    "section": "A. Historical Review",
    "text": "A. Historical Review\n\nObjective: Analyze financial data from the last 2‚Äì3 years to understand revenue streams and spending habits.\nData Sources: Dues, parent contributions, Giving Day revenue, and historical costs for travel, gear, and other expenses.\nGoal: Identify spending patterns, highlight inefficiencies, and establish a financial baseline."
  },
  {
    "objectID": "financial_analysis.html#b.-fundraising-strategy",
    "href": "financial_analysis.html#b.-fundraising-strategy",
    "title": "Financial Analysis",
    "section": "B. Fundraising Strategy",
    "text": "B. Fundraising Strategy\n\nObjective: Develop and execute a targeted fundraising plan to maximize revenue.\nKey Initiatives:\n\nGiving Day (Feb 19):\n\nLaunch dedicated campaigns for parents and players.\nActively monitor hourly leaderboards to capture prize bonuses.\n\nSecondary Streams:\n\nExplore opportunities for selling merchandise.\nOrganize tennis clinics for the community.\nDevelop an alumni outreach and donation program."
  },
  {
    "objectID": "financial_analysis.html#c.-budget-modeling",
    "href": "financial_analysis.html#c.-budget-modeling",
    "title": "Financial Analysis",
    "section": "C. Budget Modeling",
    "text": "C. Budget Modeling\n\nObjective: Create a dynamic and user-friendly tool for annual budget management.\nImplementation:\n\nTool: Develop a flexible budget model using either Google Sheets or an R Shiny dashboard.\nFeatures:\n\nProvide scenarios for different season types (e.g., travel-heavy vs.¬†local-heavy).\nAutomate recommendations for allocating funds to entry fees, travel, and equipment."
  },
  {
    "objectID": "performance_analysis.html",
    "href": "performance_analysis.html",
    "title": "Performance Analytics",
    "section": "",
    "text": "This section is dedicated to improving player and team performance through advanced analytics."
  },
  {
    "objectID": "performance_analysis.html#a.-ladder-ranking-system",
    "href": "performance_analysis.html#a.-ladder-ranking-system",
    "title": "Performance Analytics",
    "section": "A. Ladder Ranking System",
    "text": "A. Ladder Ranking System\n\nObjective: Implement a modern, data-driven ranking system to foster competition and transparency.\nMethodology:\n\nData Collection: Gather historical match data, including challenge matches, tournaments, and practice sets.\nRanking Algorithm: Build a system based on Elo or Glicko-2, which accounts for opponent strength and match recency.\n\nDeliverable: A live dashboard for players and leadership to view current rankings and track progress."
  },
  {
    "objectID": "performance_analysis.html#b.-swing-vision-integration",
    "href": "performance_analysis.html#b.-swing-vision-integration",
    "title": "Performance Analytics",
    "section": "B. Swing Vision Integration",
    "text": "B. Swing Vision Integration\n\nObjective: Leverage Swing Vision technology to provide players with personalized performance feedback.\nProcess:\n\nData Extraction: Train players to record matches and extract key statistics (e.g., serve percentage, rally length, unforced errors, winners).\nFeedback Loop: Generate concise feedback reports that identify one key area for improvement for each player."
  },
  {
    "objectID": "performance_analysis.html#c.-doubles-pairing-analysis",
    "href": "performance_analysis.html#c.-doubles-pairing-analysis",
    "title": "Performance Analytics",
    "section": "C. Doubles Pairing Analysis",
    "text": "C. Doubles Pairing Analysis\n\nObjective: Use data to identify and recommend optimal doubles pairings.\nAnalysis:\n\nData Points: Combine Swing Vision stats and match results to evaluate team chemistry.\nMetrics: Analyze net vs.¬†baseline play, serve/return dynamics, and overall win percentages for various pairings.\n\nOutcome: Provide data-backed recommendations for doubles teams in practices and tournaments."
  },
  {
    "objectID": "rank_ladder.html",
    "href": "rank_ladder.html",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "",
    "text": "Think of Elo like a video game ranking system where everyone starts at the same level. When you win matches, you gain points; when you lose, you lose points. The cool part? Beating stronger players earns you more points than beating weaker ones.\n\n\n\nEveryone starts at 1300 points\nWin = gain points, Lose = lose points\nBigger upset = bigger point swing\nThe system balances itself - total points stay constant"
  },
  {
    "objectID": "rank_ladder.html#goal",
    "href": "rank_ladder.html#goal",
    "title": "VT Club Tennis Elo System Design",
    "section": "",
    "text": "Maintain a live, fair ranking of club players based on match results on the same surface (hard). The system must:\n\nupdate ratings after every match\nhandle singles and doubles\ndownweight casual matches\nprevent inactive players from sitting on top forever\n\nWe implement a standard Elo update with club-specific tweaks."
  },
  {
    "objectID": "rank_ladder.html#data-model",
    "href": "rank_ladder.html#data-model",
    "title": "VT Club Tennis Elo System Design",
    "section": "2 2. Data Model",
    "text": "2 2. Data Model\n\n2.1 2.1 Player table\nWe keep one row per player.\n\n\n\n\n\n\n\n\nfield\ntype\ndescription\n\n\n\n\nplayer_id\ntext\nunique ID (email, pid, or short handle)\n\n\nplayer_name\ntext\ndisplay name\n\n\nelo_rating\nnumeric\ncurrent Elo (default 1300)\n\n\nmatches_played\ninteger\nnumber of recorded matches\n\n\nwins\ninteger\nnumber of wins\n\n\nlosses\ninteger\nnumber of losses\n\n\nlast_match_date\ndate\nlast time the player played\n\n\nactive_flag\nlogical\ntrue if active this semester\n\n\n\nOptional: streak (positive = win streak, negative = loss streak).\n\n\n2.2 2.2 Match table (log)\nAppend-only table of match results.\n\n\n\n\n\n\n\n\nfield\ntype\ndescription\n\n\n\n\nmatch_id\ntext\nunique match ID\n\n\ndate\ndate\nmatch date\n\n\nplayer_a_id\ntext\nfor singles: player A\n\n\nplayer_b_id\ntext\nfor singles: player B\n\n\nwinner_id\ntext\nwinner of the match\n\n\nformat\ntext\n‚Äúsingles‚Äù or ‚Äúdoubles‚Äù\n\n\nteam_a_p1\ntext\ndoubles only\n\n\nteam_a_p2\ntext\ndoubles only\n\n\nteam_b_p1\ntext\ndoubles only\n\n\nteam_b_p2\ntext\ndoubles only\n\n\nmatch_type\ntext\n‚Äúofficial‚Äù, ‚Äúladder‚Äù, or ‚Äúcasual‚Äù\n\n\nscore_text\ntext\ne.g.¬†‚Äú6-4 3-6 10-8‚Äù\n\n\nk_used\nnumeric\nK-factor used for this update\n\n\nrating_change_w\nnumeric\nchange applied to the winner(s)\n\n\nrating_change_l\nnumeric\nchange applied to the loser(s)\n\n\n\nWe sort this table by date when replaying."
  },
  {
    "objectID": "rank_ladder.html#elo-core-logic",
    "href": "rank_ladder.html#elo-core-logic",
    "title": "VT Club Tennis Elo System Design",
    "section": "3 3. Elo Core Logic",
    "text": "3 3. Elo Core Logic\n\n3.1 3.1 Expected score\nFor two players A and B with ratings (R_A) and (R_B):\n[ E_A = ]\n[ E_B = 1 - E_A ]\nThis is the predicted probability that A wins.\n\n\n3.2 3.2 Actual score\n\nIf A wins: (S_A = 1), (S_B = 0)\nIf B wins: (S_A = 0), (S_B = 1)\n\n\n\n3.3 3.3 K-factor rules\nWe define K by match context:\n\nProvisional player (either player has &lt; 5 matches): K = 32\nOfficial match (ladder day, tryout, interclub): K = 24\nNormal ladder match: K = 20\nCasual / practice but scored: K = 12\n\nWe always take the max of the K‚Äôs required by the two players so the rating can learn the newer player faster.\n\n\n3.4 3.4 Rating update\nFor player A:\n[ R_A^{new} = R_A + K (S_A - E_A) ]\nFor player B:\n[ R_B^{new} = R_B + K (S_B - E_B) ]\nAfter update:\n\nmatches_played += 1\nwins += 1 for winner, losses += 1 for loser\nlast_match_date = date"
  },
  {
    "objectID": "rank_ladder.html#doubles-handling",
    "href": "rank_ladder.html#doubles-handling",
    "title": "VT Club Tennis Elo System Design",
    "section": "4 4. Doubles Handling",
    "text": "4 4. Doubles Handling\n\n4.1 4.1 Team rating\nFor team A (players A1 and A2):\n[ R_{Ateam} = ]\nFor team B:\n[ R_{Bteam} = ]\n\n\n4.2 4.2 Expected score\nUse the same Elo expected formula on the two team ratings:\n[ E_{Ateam} = ]\n\n\n4.3 4.3 Apply change to players\nCompute team change:\n[ = K (S_{Ateam} - E_{Ateam}) ]\nwhere:\n\nK = chosen as in Section 3.3\n(= 0.75) to make doubles count slightly less than singles\n(S_{Ateam} = 1) if team A wins, (0) otherwise\n\nApply to all four players:\n\nWinners: (R R + )\nLosers: (R R - )"
  },
  {
    "objectID": "rank_ladder.html#inactivity-semester-decay",
    "href": "rank_ladder.html#inactivity-semester-decay",
    "title": "VT Club Tennis Elo System Design",
    "section": "5 5. Inactivity / Semester Decay",
    "text": "5 5. Inactivity / Semester Decay\nAt the start of each semester (or monthly), check players whose last_match_date is older than 60 days. For those:\n[ R_{} = 0.97 R_{} + 0.03 ]\nThis pulls inactive players back toward the club average (1300) so the leaderboard reflects current play.\nSimpler alternative:\n\nif inactive: elo_rating = max(1200, elo_rating - 20)"
  },
  {
    "objectID": "rank_ladder.html#configuration",
    "href": "rank_ladder.html#configuration",
    "title": "VT Club Tennis Elo System Design",
    "section": "6 6. Configuration",
    "text": "6 6. Configuration\nCreate a small config (YAML or JSON):\n```yaml base_rating: 1300 k_provisional: 32 k_official: 24 k_ladder: 20 k_casual: 12 doubles_alpha: 0.75 decay_days: 60 decay_factor: 0.97 min_matches_provisional: 5"
  },
  {
    "objectID": "rank_ladder.html#purpose",
    "href": "rank_ladder.html#purpose",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "",
    "text": "A live Elo-based rating system for VT Club Tennis that ranks players from match results (all on hard courts), supporting singles and doubles, and preventing inactive players from staying at the top."
  },
  {
    "objectID": "rank_ladder.html#data-structures",
    "href": "rank_ladder.html#data-structures",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "2 2. Data Structures",
    "text": "2 2. Data Structures\n\n2.1 2.1 Players\n\nplayer_id (chr) ‚Äì unique\nplayer_name (chr)\nelo_rating (num, default = 1300)\nmatches_played (int, default = 0)\nwins (int, default = 0)\nlosses (int, default = 0)\nlast_match_date (date, NA if none)\nactive_flag (lgl, default = TRUE)\n\n\n\n2.2 2.2 Matches (log)\n\nmatch_id\ndate\nformat = ‚Äúsingles‚Äù | ‚Äúdoubles‚Äù\nIf singles: player_a_id, player_b_id, winner_id\nIf doubles: team_a_p1, team_a_p2, team_b_p1, team_b_p2, winner_team\nmatch_type = ‚Äúofficial‚Äù | ‚Äúladder‚Äù | ‚Äúcasual‚Äù\nscore_text (optional)\nk_used (filled by script)\nrating_change_w / rating_change_l (filled by script)"
  },
  {
    "objectID": "rank_ladder.html#elo-formula",
    "href": "rank_ladder.html#elo-formula",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "3 3. Elo Formula",
    "text": "3 3. Elo Formula\n\n3.1 3.1 Expected score\nFor players A and B with ratings (R_A), (R_B):\nE_A = 1 / (1 + 10 ^ ((R_B - R_A) / 400))\nE_B = 1 - E_A\n\n3.2 Actual score\n\nS_A = 1 if A wins, else 0\nS_B = 1 - S_A\n\n3.3 K-factor rules\n\nIf either player has matches_played &lt; 5 ‚Üí K = 32\nelse if match_type == \"official\" ‚Üí K = 24\nelse if match_type == \"ladder\"   ‚Üí K = 20\nelse                              ‚Üí K = 12\n\n3.4 Update\n\nR_A_new = R_A + K * (S_A - E_A)\nR_B_new = R_B + K * (S_B - E_B)\n\nAfter update:\n    ‚Ä¢   increment matches_played\n    ‚Ä¢   update wins / losses\n    ‚Ä¢   set last_match_date = date\n\n4. Doubles\n\n4.1 Team ratings\n\nR_Ateam = (R_A1 + R_A2) / 2\nR_Bteam = (R_B1 + R_B2) / 2\n\n4.2 Expected score (team)\n\nE_Ateam = 1 / (1 + 10 ^ ((R_Bteam - R_Ateam) / 400))\n\n4.3 Apply to players\n\nLet\n\nŒî = 0.75 * K * (S_Ateam - E_Ateam)\n\n    ‚Ä¢   If team A wins: add Œî to A1 and A2; subtract Œî from B1 and B2.\n    ‚Ä¢   If team B wins: reverse.\n\n5. Inactivity / Decay\n\nRun at semester start:\n\nIf today - last_match_date &gt; 60 days:\n    elo_rating = 0.97 * elo_rating + 0.03 * 1300\n\n(or: elo_rating = max(1200, elo_rating - 20))\n\n6. Config (editable)\n\nbase_rating      = 1300\nk_provisional    = 32\nk_official       = 24\nk_ladder         = 20\nk_casual         = 12\ndoubles_alpha    = 0.75\ndecay_days       = 60\ndecay_factor     = 0.97\nprovisional_n    = 5\n\n7. Processing Flow\n    1.  Read players table.\n    2.  Read matches (sorted by date).\n    3.  For each match:\n    1.  pull ratings\n    2.  compute expected score\n    3.  choose K\n    4.  update ratings\n    5.  write back to players\n    6.  log K and rating changes\n    4.  Output leaderboard (players ordered by elo_rating desc).\n\n## 8. Implementation\n\n### 8.1 Setup and Configuration\n\n\n::: {.cell}\n\n:::\n\n\n### 8.2 Initialize Players\n\n**How It Works:** Every player starts with the same base rating of 1300. This is like starting a video game where everyone is Level 1. As players win matches, their rating goes up; when they lose, it goes down. The system automatically tracks wins, losses, and when they last played.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Initial Player Roster - Everyone Starts Equal at 1300\n\n|player_id |player_name | elo_rating| matches_played| wins| losses|last_match_date |active_flag |\n|:---------|:-----------|----------:|--------------:|----:|------:|:---------------|:-----------|\n|P01       |A           |       1300|              0|    0|      0|NA              |TRUE        |\n|P02       |B           |       1300|              0|    0|      0|NA              |TRUE        |\n|P03       |C           |       1300|              0|    0|      0|NA              |TRUE        |\n|P04       |D           |       1300|              0|    0|      0|NA              |TRUE        |\n|P05       |E           |       1300|              0|    0|      0|NA              |TRUE        |\n|P06       |F           |       1300|              0|    0|      0|NA              |TRUE        |\n|P07       |G           |       1300|              0|    0|      0|NA              |TRUE        |\n|P08       |H           |       1300|              0|    0|      0|NA              |TRUE        |\n|P09       |I           |       1300|              0|    0|      0|NA              |TRUE        |\n|P10       |J           |       1300|              0|    0|      0|NA              |TRUE        |\n\n\n:::\n:::\n\n\n### 8.3 Core Elo Functions\n\n**Key Concept - Expected Score:** Before each match, the system predicts who is more likely to win based on their current ratings. If Player A (1400 rating) plays Player B (1200 rating), Player A is expected to win about 76% of the time. When the higher-rated player wins, they gain fewer points. When the underdog wins (an \"upset\"), they gain many more points!\n\n\n::: {.cell}\n\n:::\n\n\n### 8.4 Generate Sample Matches\n\n**Tutorial Data:** We're creating 30 fictional matches over a 3-month season (September-November 2024). In a real system, you would input actual match results instead. The system randomly generates:\n- **60% singles** matches (1v1)\n- **40% doubles** matches (2v2)\n- Mix of official tournaments, ladder matches, and casual games\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Sample Matches (First 10)\n\n|match_id |date       |format  |match_type |team_w1_id |team_w2_id |team_l1_id |team_l2_id |player_a_id |player_b_id |winner_id |\n|:--------|:----------|:-------|:----------|:----------|:----------|:----------|:----------|:-----------|:-----------|:---------|\n|M001     |2024-09-01 |doubles |casual     |P05        |P02        |P06        |P08        |NA          |NA          |NA        |\n|M002     |2024-09-04 |doubles |tournament |P02        |P04        |P03        |P06        |NA          |NA          |NA        |\n|M003     |2024-09-07 |singles |ladder     |P05        |P02        |P06        |P08        |P05         |P02         |P05       |\n|M004     |2024-09-10 |doubles |casual     |P06        |P08        |P05        |P01        |NA          |NA          |NA        |\n|M005     |2024-09-13 |doubles |ladder     |P01        |P07        |P04        |P05        |NA          |NA          |NA        |\n|M006     |2024-09-16 |singles |tournament |P05        |P02        |P06        |P08        |P10         |P09         |P10       |\n|M007     |2024-09-19 |doubles |ladder     |P04        |P09        |P03        |P08        |NA          |NA          |NA        |\n|M008     |2024-09-22 |singles |ladder     |P05        |P02        |P06        |P08        |P05         |P08         |P08       |\n|M009     |2024-09-25 |doubles |tournament |P05        |P06        |P02        |P08        |P05         |P02         |P05       |\n|M010     |2024-09-28 |doubles |casual     |P08        |P01        |P02        |P05        |NA          |NA          |NA        |\n\n\n:::\n:::\n\n\n### 8.5 Process All Matches\n\n**The Magic Happens Here:** The system processes each match chronologically, calculating:\n1. Who was expected to win (based on current ratings)\n2. Who actually won\n3. How many rating points to transfer\n4. Updated ratings for all players\n\nAfter each match, the system saves a snapshot so we can see how ratings evolved over time.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\nWarning in mean.default(sapply(c(team_w, team_l), function(pid) {: argument is not numeric or logical: returning NA Warning in mean.default(sapply(c(team_w, team_l), function(pid) {: argument is not numeric or logical: returning NA Warning in mean.default(sapply(c(team_w, team_l), function(pid) {: argument is not numeric or logical: returning NA Warning in mean.default(sapply(c(team_w, team_l), function(pid) {: argument is not numeric or logical: returning NA\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\nWarning in mean.default(c(k_a, k_b)): argument is not numeric or logical: returning NA\n\n\n:::\n:::\n\n\n## 9. Results and Visualizations\n\n### 9.1 Final Leaderboard\n\n**Reading the Leaderboard:** After all 30 matches, here's where each player ended up. Notice how players with similar win rates can have different ratings - this is because beating stronger opponents earns more points than beating weaker ones!\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: VT Club Tennis Leaderboard\n\n| Rank|Player | Elo Rating| Matches| Wins| Losses|Win % |Last Match |\n|----:|:------|----------:|-------:|----:|------:|:-----|:----------|\n|    1|A      |         NA|      10|    5|      5|50.0% |2024-11-23 |\n|    2|B      |         NA|      10|    5|      5|50.0% |2024-11-30 |\n|    3|C      |         NA|       4|    0|      4|0.0%  |2024-11-02 |\n|    4|D      |         NA|       6|    4|      2|66.7% |2024-11-30 |\n|    5|E      |         NA|      14|    7|      7|50.0% |2024-11-08 |\n|    6|F      |         NA|      12|    4|      8|33.3% |2024-11-17 |\n|    7|G      |         NA|       7|    4|      3|57.1% |2024-11-20 |\n|    8|H      |         NA|      11|    4|      7|36.4% |2024-11-26 |\n|    9|I      |        NaN|      10|    6|      4|60.0% |2024-11-30 |\n|   10|J      |        NaN|       8|    7|      1|87.5% |2024-11-30 |\n\n\n:::\n:::\n\n\n### 9.2 Rating Evolution Over Time\n\n**What This Shows:** Watch how each player's rating changes after every match. The dashed line at 1300 is where everyone started. Players who consistently win climb above it; those who lose more often fall below. Notice the early volatility (big swings) when players are new, then ratings stabilize as they play more matches.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\nWarning: Removed 274 rows containing missing values or values outside the scale range (geom_line()).\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\nWarning: Removed 274 rows containing missing values or values outside the scale range (geom_point()).\n\n\n:::\n\n::: {.cell-output-display}\n![](rank_ladder_files/figure-html/rating-evolution-1.png){width=1152}\n:::\n:::\n\n\n### 9.3 Rating Distribution\n\n**Color Guide:** Maroon bars (VT colors!) show players above the starting rating of 1300, while orange bars show those below. The numbers on each bar are the exact current ratings. This makes it easy to see at a glance who are the top performers.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\nWarning: Removed 10 rows containing missing values or values outside the scale range (geom_col()).\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\nWarning: Removed 10 rows containing missing values or values outside the scale range (geom_text()).\n\n\n:::\n\n::: {.cell-output-display}\n![](rank_ladder_files/figure-html/rating-distribution-1.png){width=960}\n:::\n:::\n\n\n### 9.4 Win-Loss Records\n\n**Match History:** This shows each player's total wins (orange) and losses (maroon). Players at the top have played more matches. Remember: it's not just about quantity - the Elo system also considers the quality of your opponents!\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](rank_ladder_files/figure-html/win-loss-1.png){width=960}\n:::\n:::\n\n\n### 9.5 Rating Changes per Match\n\n**Understanding Point Values:** Each dot represents one match. The height shows how many rating points the winner gained. Notice:\n- **Higher dots** = bigger upsets or important matches (official tournaments)\n- **Lower dots** = expected results or casual games\n- **Circles** = singles matches\n- **Triangles** = doubles matches (typically award fewer points)\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\nWarning: Removed 29 rows containing missing values or values outside the scale range (geom_point()).\n\n\n:::\n\n::: {.cell-output-display}\n![](rank_ladder_files/figure-html/rating-changes-1.png){width=960}\n:::\n:::\n\n\n## 10. System Statistics\n\n**Quick Summary:** Here are the key numbers from our simulated season. The \"Rating Std Dev\" (standard deviation) tells us how spread out the ratings are - a higher number means bigger skill differences between top and bottom players.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Season Statistics Summary\n\n|Metric                     |Value |\n|:--------------------------|:-----|\n|Total Matches Played       |30    |\n|Singles Matches            |14    |\n|Doubles Matches            |16    |\n|Average Rating             |NA    |\n|Rating Std Dev (Spread)    |NA    |\n|Highest Rating             |NA    |\n|Lowest Rating              |NA    |\n|Most Active Player         |E     |\n|Average Matches per Player |9.2   |\n\n\n:::\n:::\n\n\n## 11. How This System Works - Key Takeaways\n\n### For Beginners: Understanding Elo in Plain English\n\n**What is Elo?**\nThink of Elo like a video game leveling system, but for real tennis matches. Everyone starts at Level 1300. When you win, you gain experience points (rating); when you lose, you lose some.\n\n**Why It's Fair:**\n\n1. **Beating Better Players = More Points**: If you're rated 1200 and beat someone rated 1400, you'll gain a lot of points (maybe 20-25). But if you beat someone rated 1100, you only gain a few points (maybe 5-8).\n\n2. **New Players Adjust Faster**: Your first 5 matches use a higher K-factor (32), so your rating quickly finds your true skill level. After that, changes are smaller and more stable.\n\n3. **Match Importance Matters**: \n   - Official tournament? **Big impact** (K=24)\n   - Ladder match? **Medium impact** (K=20)\n   - Casual practice? **Small impact** (K=12)\n\n4. **Doubles Are Different**: Since 4 people share the result, individual rating changes are smaller (multiplied by 0.75).\n\n5. **It Self-Corrects**: If someone gets lucky and wins a few upsets, they'll face tougher opponents and their rating will balance out over time.\n\n### What Makes This Different from Win-Loss Records?\n\n**Simple Win %**: Player A goes 5-2 (71% win rate)  \n**Elo Rating**: But if all 5 wins were against weak players and both losses were to strong players, their Elo might be below average!\n\n**Simple Win %**: Player B goes 3-4 (43% win rate)  \n**Elo Rating**: But if those 3 wins were huge upsets against top players, their Elo might be quite high!\n\n**The bottom line**: Elo considers *who* you beat, not just *how many* you beat.\n\n### Real-World Application for VT Club Tennis\n\nTo use this system with real data:\n\n1. **Start Fresh**: All active members begin at 1300\n2. **Input Match Results**: After each match, record:\n   - Date\n   - Players involved\n   - Winner\n   - Match type (official/ladder/casual)\n   - Format (singles/doubles)\n3. **Run the Update**: The system calculates new ratings automatically\n4. **Check the Leaderboard**: Rankings update after every match!\n\n### Optional: Inactivity Decay\n\nIf someone hasn't played in 60+ days, their rating slowly drifts back toward 1300. This prevents inactive players from \"camping\" at the top. The formula:\n\nNew Rating = (0.97 √ó Current Rating) + (0.03 √ó 1300) ```\nThis means each decay cycle, 97% of your rating stays, but 3% moves toward the base.\n\nReady to implement this for real? Replace the tutorial data with actual match results and watch your club‚Äôs rankings come to life! üéæ"
  },
  {
    "objectID": "rank_ladder.html#results-and-visualizations",
    "href": "rank_ladder.html#results-and-visualizations",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "5 9. Results and Visualizations",
    "text": "5 9. Results and Visualizations\n\n5.1 9.1 Final Leaderboard\nReading the Leaderboard: After all 30 matches, here‚Äôs where each player ended up. Notice how players with similar win rates can have different ratings - this is because beating stronger opponents earns more points than beating weaker ones!\n\n\n\nVT Club Tennis Leaderboard\n\n\nRank\nPlayer\nElo Rating\nMatches\nWins\nLosses\nWin %\nLast Match\n\n\n\n\n1\nA\nNA\n10\n5\n5\n50.0%\n2024-11-23\n\n\n2\nB\nNA\n10\n5\n5\n50.0%\n2024-11-30\n\n\n3\nC\nNA\n4\n0\n4\n0.0%\n2024-11-02\n\n\n4\nD\nNA\n6\n4\n2\n66.7%\n2024-11-30\n\n\n5\nE\nNA\n14\n7\n7\n50.0%\n2024-11-08\n\n\n6\nF\nNA\n12\n4\n8\n33.3%\n2024-11-17\n\n\n7\nG\nNA\n7\n4\n3\n57.1%\n2024-11-20\n\n\n8\nH\nNA\n11\n4\n7\n36.4%\n2024-11-26\n\n\n9\nI\nNaN\n10\n6\n4\n60.0%\n2024-11-30\n\n\n10\nJ\nNaN\n8\n7\n1\n87.5%\n2024-11-30\n\n\n\n\n\n\n\n5.2 9.2 Rating Evolution Over Time\nWhat This Shows: Watch how each player‚Äôs rating changes after every match. The dashed line at 1300 is where everyone started. Players who consistently win climb above it; those who lose more often fall below. Notice the early volatility (big swings) when players are new, then ratings stabilize as they play more matches.\n\n\nWarning: Removed 274 rows containing missing values or values outside the scale range\n(`geom_line()`).\n\n\nWarning: Removed 274 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n\n5.3 9.3 Rating Distribution\nColor Guide: Maroon bars (VT colors!) show players above the starting rating of 1300, while orange bars show those below. The numbers on each bar are the exact current ratings. This makes it easy to see at a glance who are the top performers.\n\n\nWarning: Removed 10 rows containing missing values or values outside the scale range\n(`geom_col()`).\n\n\nWarning: Removed 10 rows containing missing values or values outside the scale range\n(`geom_text()`).\n\n\n\n\n\n\n\n\n\n\n\n5.4 9.4 Win-Loss Records\nMatch History: This shows each player‚Äôs total wins (orange) and losses (maroon). Players at the top have played more matches. Remember: it‚Äôs not just about quantity - the Elo system also considers the quality of your opponents!\n\n\n\n\n\n\n\n\n\n\n\n5.5 9.5 Rating Changes per Match\nUnderstanding Point Values: Each dot represents one match. The height shows how many rating points the winner gained. Notice: - Higher dots = bigger upsets or important matches (official tournaments) - Lower dots = expected results or casual games - Circles = singles matches - Triangles = doubles matches (typically award fewer points)\n\n\nWarning: Removed 29 rows containing missing values or values outside the scale range\n(`geom_point()`)."
  },
  {
    "objectID": "rank_ladder.html#system-statistics",
    "href": "rank_ladder.html#system-statistics",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "6 10. System Statistics",
    "text": "6 10. System Statistics\nQuick Summary: Here are the key numbers from our simulated season. The ‚ÄúRating Std Dev‚Äù (standard deviation) tells us how spread out the ratings are - a higher number means bigger skill differences between top and bottom players.\n\n\n\nSeason Statistics Summary\n\n\nMetric\nValue\n\n\n\n\nTotal Matches Played\n30\n\n\nSingles Matches\n14\n\n\nDoubles Matches\n16\n\n\nAverage Rating\nNA\n\n\nRating Std Dev (Spread)\nNA\n\n\nHighest Rating\nNA\n\n\nLowest Rating\nNA\n\n\nMost Active Player\nE\n\n\nAverage Matches per Player\n9.2"
  },
  {
    "objectID": "rank_ladder.html#key-insights",
    "href": "rank_ladder.html#key-insights",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "6 11. Key Insights",
    "text": "6 11. Key Insights\nThe Elo system successfully demonstrates:\n\nDynamic Rankings: Players‚Äô ratings evolve based on performance, with early matches (higher K-factor) causing larger swings\nMatch Type Impact: Official matches carry more weight (K=24) than casual matches (K=12)\nDoubles Adjustment: Doubles matches use a reduced multiplier (0.75) to prevent rating inflation\nFair Competition: The expected score formula properly weights upsets vs.¬†expected outcomes\nActivity Tracking: The system tracks when players last competed, enabling future inactivity decay\n\nThis system provides a transparent, fair method for ranking club players while encouraging competitive play!"
  },
  {
    "objectID": "rank_ladder.html#how-this-system-works---key-takeaways",
    "href": "rank_ladder.html#how-this-system-works---key-takeaways",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "7 11. How This System Works - Key Takeaways",
    "text": "7 11. How This System Works - Key Takeaways\n\n7.1 For Beginners: Understanding Elo in Plain English\nWhat is Elo? Think of Elo like a video game leveling system, but for real tennis matches. Everyone starts at Level 1300. When you win, you gain experience points (rating); when you lose, you lose some.\nWhy It‚Äôs Fair:\n\nBeating Better Players = More Points: If you‚Äôre rated 1200 and beat someone rated 1400, you‚Äôll gain a lot of points (maybe 20-25). But if you beat someone rated 1100, you only gain a few points (maybe 5-8).\nNew Players Adjust Faster: Your first 5 matches use a higher K-factor (32), so your rating quickly finds your true skill level. After that, changes are smaller and more stable.\nMatch Importance Matters:\n\nOfficial tournament? Big impact (K=24)\nLadder match? Medium impact (K=20)\nCasual practice? Small impact (K=12)\n\nDoubles Are Different: Since 4 people share the result, individual rating changes are smaller (multiplied by 0.75).\nIt Self-Corrects: If someone gets lucky and wins a few upsets, they‚Äôll face tougher opponents and their rating will balance out over time.\n\n\n\n7.2 What Makes This Different from Win-Loss Records?\nSimple Win %: Player A goes 5-2 (71% win rate)\nElo Rating: But if all 5 wins were against weak players and both losses were to strong players, their Elo might be below average!\nSimple Win %: Player B goes 3-4 (43% win rate)\nElo Rating: But if those 3 wins were huge upsets against top players, their Elo might be quite high!\nThe bottom line: Elo considers who you beat, not just how many you beat.\n\n\n7.3 Real-World Application for VT Club Tennis\nTo use this system with real data:\n\nStart Fresh: All active members begin at 1300\nInput Match Results: After each match, record:\n\nDate\nPlayers involved\nWinner\nMatch type (official/ladder/casual)\nFormat (singles/doubles)\n\nRun the Update: The system calculates new ratings automatically\nCheck the Leaderboard: Rankings update after every match!\n\n\n\n7.4 Optional: Inactivity Decay\nIf someone hasn‚Äôt played in 60+ days, their rating slowly drifts back toward 1300. This prevents inactive players from ‚Äúcamping‚Äù at the top. The formula:\nNew Rating = (0.97 √ó Current Rating) + (0.03 √ó 1300)\nThis means each decay cycle, 97% of your rating stays, but 3% moves toward the base.\n\nReady to implement this for real? Replace the tutorial data with actual match results and watch your club‚Äôs rankings come to life! üéæ"
  },
  {
    "objectID": "rank_ladder.html#what-is-the-elo-rating-system",
    "href": "rank_ladder.html#what-is-the-elo-rating-system",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "",
    "text": "Think of Elo like a video game ranking system where everyone starts at the same level. When you win matches, you gain points; when you lose, you lose points. The cool part? Beating stronger players earns you more points than beating weaker ones.\n\n\n\nEveryone starts at 1300 points\nWin = gain points, Lose = lose points\nBigger upset = bigger point swing\nThe system balances itself - total points stay constant"
  },
  {
    "objectID": "rank_ladder.html#how-does-it-work-simple-explanation",
    "href": "rank_ladder.html#how-does-it-work-simple-explanation",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "2 2. How Does It Work? (Simple Explanation)",
    "text": "2 2. How Does It Work? (Simple Explanation)\n\n2.1 Step 1: Predict the outcome\nBefore each match, we calculate who should win based on current ratings.\nExample: Player A (1400 rating) vs Player B (1300 rating) - Player A is expected to win about 64% of the time - Player B is expected to win about 36% of the time\n\n\n2.2 Step 2: Compare prediction to reality\nAfter the match, we see what actually happened and compare it to the prediction.\n\n\n2.3 Step 3: Adjust ratings\n\nIf the favorite wins: Small point change (expected result)\nIf the underdog wins: Large point change (upset!)\n\nThe formula is simple:\nNew Rating = Old Rating + K √ó (Actual Result - Expected Result)\nWhere: - K = How many points are at stake (32 for new players, 12-24 for experienced players) - Actual Result = 1 if you won, 0 if you lost - Expected Result = Probability you were supposed to win (0 to 1)"
  },
  {
    "objectID": "rank_ladder.html#lets-see-it-in-action-a-mini-example",
    "href": "rank_ladder.html#lets-see-it-in-action-a-mini-example",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "3 3. Let‚Äôs See It In Action: A Mini Example",
    "text": "3 3. Let‚Äôs See It In Action: A Mini Example\nWe‚Äôll watch 3 players play 5 matches and see exactly how their ratings change.\n\n3.1 Match 1: Alice vs Bob (Both start at 1300)\n\n\n\nStarting Ratings - Everyone at 1300\n\n\nname\nrating\n\n\n\n\nAlice\n1300\n\n\nBob\n1300\n\n\nCharlie\n1300\n\n\n\n\n\nBefore Match: - Alice: 1300 rating - Bob: 1300 rating - Expected Result: 50-50 (both equal)\nAlice wins!\nCalculation: - K-factor: 32 (both are new players) - Alice expected to win: 0.50 (50%) - Alice actually won: 1.0 (100%) - Point change: 32 √ó (1.0 - 0.50) = +16 points\n\n\n\nMatch 1 Results\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nAlice\n1300\n50%\nWon\n+16\n1316\n\n\nBob\n1300\n50%\nLost\n-16\n1284\n\n\n\n\n\nAfter Match 1:\n\n\n\nCurrent Standings After Match 1\n\n\nrank\nname\nrating\n\n\n\n\n1\nAlice\n1316\n\n\n2\nCharlie\n1300\n\n\n3\nBob\n1284\n\n\n\n\n\n\n\n\n3.2 Match 2: Alice vs Charlie (Alice now favored)\nBefore Match: - Alice: 1316 rating (favorite) - Charlie: 1300 rating (underdog) - Expected: Alice should win 52% of the time\nCharlie wins! (UPSET)\nCalculation: - K-factor: 32 (both still new) - Charlie expected to win: 0.48 (48%) - Charlie actually won: 1.0 (100%) - Point change: 32 √ó (1.0 - 0.48) = +17 points (more than Match 1 because of the upset!)\n\n\n\nMatch 2 Results - Upset!\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nCharlie\n1300\n48%\nWon\n+16.7\n1316.7\n\n\nAlice\n1316\n52%\nLost\n-16.7\n1299.3\n\n\n\n\n\nAfter Match 2:\n\n\n\nCurrent Standings After Match 2\n\n\nrank\nname\nrating\n\n\n\n\n1\nCharlie\n1316.7\n\n\n2\nAlice\n1299.3\n\n\n3\nBob\n1284.0\n\n\n\n\n\n\n\n\n3.3 Match 3: Bob vs Charlie (Bob is underdog)\nBefore Match: - Charlie: 1317 rating (favorite, just beat Alice!) - Bob: 1284 rating (underdog, lost to Alice) - Expected: Charlie should win 55% of the time\nBob wins! (Another upset!)\n\n\n\nMatch 3 Results - Another Upset!\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nBob\n1284.0\n45%\nWon\n+17.5\n1301.5\n\n\nCharlie\n1316.7\n55%\nLost\n-17.5\n1299.2\n\n\n\n\n\nAfter Match 3:\n\n\n\nCurrent Standings After Match 3\n\n\nrank\nname\nrating\n\n\n\n\n1\nBob\n1301.5\n\n\n2\nAlice\n1299.3\n\n\n3\nCharlie\n1299.2\n\n\n\n\n\n\n\n\n3.4 Match 4: Alice vs Bob (Rematch!)\nBefore Match: - Alice: 1299 rating - Bob: 1301 rating (Bob barely ahead now!) - Expected: Nearly 50-50 (Bob 50.3% to win)\nAlice wins! (Redemption!)\n\n\n\nMatch 4 Results - Close Match!\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nAlice\n1299.3\n49.7%\nWon\n+16.1\n1315.4\n\n\nBob\n1301.5\n50.3%\nLost\n-16.1\n1285.4\n\n\n\n\n\nAfter Match 4:\n\n\n\nCurrent Standings After Match 4\n\n\nrank\nname\nrating\n\n\n\n\n1\nAlice\n1315.4\n\n\n2\nCharlie\n1299.2\n\n\n3\nBob\n1285.4\n\n\n\n\n\n\n\n\n3.5 Match 5: Charlie vs Bob (Battle for Last Place)\nBefore Match: - Bob: 1285 rating - Charlie: 1300 rating - Expected: Charlie should win 52% of the time\nCharlie wins (as expected)\n\n\n\nMatch 5 Results - Expected Outcome\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nCharlie\n1299.2\n52%\nWon\n+15.4\n1314.6\n\n\nBob\n1285.4\n48%\nLost\n-15.4\n1270.0\n\n\n\n\n\nFinal Standings:\n\n\n\nFinal Standings After 5 Matches\n\n\nRank\nPlayer\nRating\nChange from Start\n\n\n\n\n1\nAlice\n1315.4\n15.4\n\n\n2\nCharlie\n1314.6\n14.6\n\n\n3\nBob\n1270.0\n-30.0\n\n\n\n\n\n\n\n\n3.6 Visual: Rating Journey Across All 5 Matches\nWatch the ratings change! This chart shows how each player‚Äôs rating evolved through all 5 matches. The dashed line at 1300 is where everyone started.\n\n\n\n\n\n\n\n\n\nWhat This Shows: - Alice (Maroon): Started strong (won Match 1), dropped after upset loss to Charlie, recovered by winning rematch against Bob - Bob (Orange): Lost first match to Alice, upset Charlie, then lost to Alice again and Charlie - most volatile journey! - Charlie (Green): Stayed at 1300 for 2 matches, then upset Alice to jump up, lost to Bob, recovered by beating Bob again - Notice: The system rewards upsets with big point jumps (see Charlie‚Äôs jump in Match 2, Bob‚Äôs in Match 3)\n\n\n\n3.7 Visual: Final Win-Loss Records\n\n\n\n\n\n\n\n\n\nKey Observation: Alice and Charlie both ended at 1315 rating with 2-1 records, while Bob ended at 1269 with 1-3 record. This shows that who you beat matters more than just win count - Charlie‚Äôs upset of Alice earned big points!\n\n\n\n3.8 Key Insights from These Examples:\n\nEqual players (Match 1): 50-50 expected, winner gets +16, loser gets -16\nUpsets reward more points: Charlie and Bob gained 17+ points from their upsets\nClose matches: When ratings are nearly equal, point swings are around 16\nExpected wins: When the favorite wins, they gain fewer points (Match 5: +15)\nSystem stays balanced: Total points = 3900 (1300 √ó 3 players) throughout all matches\nWin-loss records don‚Äôt tell the whole story: Alice is 2-1 but ranked 1st, Bob is 1-3 but close to Charlie (2-1)"
  },
  {
    "objectID": "rank_ladder.html#implementation",
    "href": "rank_ladder.html#implementation",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "4 8. Implementation",
    "text": "4 8. Implementation\n\n4.1 8.1 Setup and Configuration\n\n\n4.2 8.2 Initialize Players\nHow It Works: Every player starts with the same base rating of 1300. This is like starting a video game where everyone is Level 1. As players win matches, their rating goes up; when they lose, it goes down. The system automatically tracks wins, losses, and when they last played.\n\n\n\nInitial Player Roster - Everyone Starts Equal at 1300\n\n\n\n\n\n\n\n\n\n\n\n\nplayer_id\nplayer_name\nelo_rating\nmatches_played\nwins\nlosses\nlast_match_date\nactive_flag\n\n\n\n\nP01\nA\n1300\n0\n0\n0\nNA\nTRUE\n\n\nP02\nB\n1300\n0\n0\n0\nNA\nTRUE\n\n\nP03\nC\n1300\n0\n0\n0\nNA\nTRUE\n\n\nP04\nD\n1300\n0\n0\n0\nNA\nTRUE\n\n\nP05\nE\n1300\n0\n0\n0\nNA\nTRUE\n\n\nP06\nF\n1300\n0\n0\n0\nNA\nTRUE\n\n\nP07\nG\n1300\n0\n0\n0\nNA\nTRUE\n\n\nP08\nH\n1300\n0\n0\n0\nNA\nTRUE\n\n\nP09\nI\n1300\n0\n0\n0\nNA\nTRUE\n\n\nP10\nJ\n1300\n0\n0\n0\nNA\nTRUE\n\n\n\n\n\n\n\n4.3 8.3 Core Elo Functions\nKey Concept - Expected Score: Before each match, the system predicts who is more likely to win based on their current ratings. If Player A (1400 rating) plays Player B (1200 rating), Player A is expected to win about 76% of the time. When the higher-rated player wins, they gain fewer points. When the underdog wins (an ‚Äúupset‚Äù), they gain many more points!\n\n\n4.4 8.4 Generate Sample Matches\nTutorial Data: We‚Äôre creating 30 fictional matches over a 3-month season (September-November 2024). In a real system, you would input actual match results instead. The system randomly generates: - 60% singles matches (1v1) - 40% doubles matches (2v2) - Mix of official tournaments, ladder matches, and casual games\n\n\n\nSample Matches (First 10)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nmatch_id\ndate\nformat\nmatch_type\nteam_w1_id\nteam_w2_id\nteam_l1_id\nteam_l2_id\nplayer_a_id\nplayer_b_id\nwinner_id\n\n\n\n\nM001\n2024-09-01\ndoubles\ncasual\nP05\nP02\nP06\nP08\nNA\nNA\nNA\n\n\nM002\n2024-09-04\ndoubles\ntournament\nP02\nP04\nP03\nP06\nNA\nNA\nNA\n\n\nM003\n2024-09-07\nsingles\nladder\nP05\nP02\nP06\nP08\nP05\nP02\nP05\n\n\nM004\n2024-09-10\ndoubles\ncasual\nP06\nP08\nP05\nP01\nNA\nNA\nNA\n\n\nM005\n2024-09-13\ndoubles\nladder\nP01\nP07\nP04\nP05\nNA\nNA\nNA\n\n\nM006\n2024-09-16\nsingles\ntournament\nP05\nP02\nP06\nP08\nP10\nP09\nP10\n\n\nM007\n2024-09-19\ndoubles\nladder\nP04\nP09\nP03\nP08\nNA\nNA\nNA\n\n\nM008\n2024-09-22\nsingles\nladder\nP05\nP02\nP06\nP08\nP05\nP08\nP08\n\n\nM009\n2024-09-25\ndoubles\ntournament\nP05\nP06\nP02\nP08\nP05\nP02\nP05\n\n\nM010\n2024-09-28\ndoubles\ncasual\nP08\nP01\nP02\nP05\nNA\nNA\nNA\n\n\n\n\n\n\n\n4.5 8.5 Process All Matches\nThe Magic Happens Here: The system processes each match chronologically, calculating: 1. Who was expected to win (based on current ratings) 2. Who actually won 3. How many rating points to transfer 4. Updated ratings for all players\nAfter each match, the system saves a snapshot so we can see how ratings evolved over time.\n\n\nWarning in mean.default(sapply(c(team_w, team_l), function(pid) {: argument is\nnot numeric or logical: returning NA\nWarning in mean.default(sapply(c(team_w, team_l), function(pid) {: argument is\nnot numeric or logical: returning NA\nWarning in mean.default(sapply(c(team_w, team_l), function(pid) {: argument is\nnot numeric or logical: returning NA\nWarning in mean.default(sapply(c(team_w, team_l), function(pid) {: argument is\nnot numeric or logical: returning NA\n\n\nWarning in mean.default(c(k_a, k_b)): argument is not numeric or logical:\nreturning NA"
  },
  {
    "objectID": "rank_ladder_new.html",
    "href": "rank_ladder_new.html",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "",
    "text": "Think of Elo like a video game ranking system where everyone starts at the same level. When you win matches, you gain points; when you lose, you lose points. The cool part? Beating stronger players earns you more points than beating weaker ones.\n\n\n\nEveryone starts at 1300 points\nWin = gain points, Lose = lose points\nBigger upset = bigger point swing\nThe system balances itself - total points stay constant"
  },
  {
    "objectID": "rank_ladder_new.html#what-is-the-elo-rating-system",
    "href": "rank_ladder_new.html#what-is-the-elo-rating-system",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "",
    "text": "Think of Elo like a video game ranking system where everyone starts at the same level. When you win matches, you gain points; when you lose, you lose points. The cool part? Beating stronger players earns you more points than beating weaker ones.\n\n\n\nEveryone starts at 1300 points\nWin = gain points, Lose = lose points\nBigger upset = bigger point swing\nThe system balances itself - total points stay constant"
  },
  {
    "objectID": "rank_ladder_new.html#how-does-it-work-simple-explanation",
    "href": "rank_ladder_new.html#how-does-it-work-simple-explanation",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "2 2. How Does It Work? (Simple Explanation)",
    "text": "2 2. How Does It Work? (Simple Explanation)\n\n2.1 Step 1: Predict the outcome\nBefore each match, we calculate who should win based on current ratings.\nExample: Player A (1400 rating) vs Player B (1300 rating) - Player A is expected to win about 64% of the time - Player B is expected to win about 36% of the time\n\n\n2.2 Step 2: Compare prediction to reality\nAfter the match, we see what actually happened and compare it to the prediction.\n\n\n2.3 Step 3: Adjust ratings\n\nIf the favorite wins: Small point change (expected result)\nIf the underdog wins: Large point change (upset!)\n\nThe formula is simple:\nNew Rating = Old Rating + K √ó (Actual Result - Expected Result)\nWhere: - K = How many points are at stake (32 for new players, 12-24 for experienced players) - Actual Result = 1 if you won, 0 if you lost - Expected Result = Probability you were supposed to win (0 to 1)"
  },
  {
    "objectID": "rank_ladder_new.html#lets-see-it-in-action-a-mini-example",
    "href": "rank_ladder_new.html#lets-see-it-in-action-a-mini-example",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "3 3. Let‚Äôs See It In Action: A Mini Example",
    "text": "3 3. Let‚Äôs See It In Action: A Mini Example\nWe‚Äôll watch 3 players play 5 matches and see exactly how their ratings change.\n\n3.1 Match 1: Alice vs Bob (Both start at 1300)\n\n\n\nStarting Ratings - Everyone at 1300\n\n\nname\nrating\n\n\n\n\nAlice\n1300\n\n\nBob\n1300\n\n\nCharlie\n1300\n\n\n\n\n\nBefore Match: - Alice: 1300 rating - Bob: 1300 rating - Expected Result: 50-50 (both equal)\nAlice wins!\nCalculation: - K-factor: 32 (both are new players) - Alice expected to win: 0.50 (50%) - Alice actually won: 1.0 (100%) - Point change: 32 √ó (1.0 - 0.50) = +16 points\n\n\n\nMatch 1 Results\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nAlice\n1300\n50%\nWon\n+16\n1316\n\n\nBob\n1300\n50%\nLost\n-16\n1284\n\n\n\n\n\nAfter Match 1:\n\n\n\nCurrent Standings After Match 1\n\n\nrank\nname\nrating\n\n\n\n\n1\nAlice\n1316\n\n\n2\nCharlie\n1300\n\n\n3\nBob\n1284\n\n\n\n\n\n\n\n\n3.2 Match 2: Alice vs Charlie (Alice now favored)\nBefore Match: - Alice: 1316 rating (favorite) - Charlie: 1300 rating (underdog) - Expected: Alice should win 52% of the time\nCharlie wins! (UPSET)\nCalculation: - K-factor: 32 (both still new) - Charlie expected to win: 0.48 (48%) - Charlie actually won: 1.0 (100%) - Point change: 32 √ó (1.0 - 0.48) = +17 points (more than Match 1 because of the upset!)\n\n\n\nMatch 2 Results - Upset!\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nCharlie\n1300\n48%\nWon\n+16.7\n1316.7\n\n\nAlice\n1316\n52%\nLost\n-16.7\n1299.3\n\n\n\n\n\nAfter Match 2:\n\n\n\nCurrent Standings After Match 2\n\n\nrank\nname\nrating\n\n\n\n\n1\nCharlie\n1316.7\n\n\n2\nAlice\n1299.3\n\n\n3\nBob\n1284.0\n\n\n\n\n\n\n\n\n3.3 Match 3: Bob vs Charlie (Bob is underdog)\nBefore Match: - Charlie: 1317 rating (favorite, just beat Alice!) - Bob: 1284 rating (underdog, lost to Alice) - Expected: Charlie should win 55% of the time\nBob wins! (Another upset!)\n\n\n\nMatch 3 Results - Another Upset!\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nBob\n1284.0\n45%\nWon\n+17.5\n1301.5\n\n\nCharlie\n1316.7\n55%\nLost\n-17.5\n1299.2\n\n\n\n\n\nAfter Match 3:\n\n\n\nCurrent Standings After Match 3\n\n\nrank\nname\nrating\n\n\n\n\n1\nBob\n1301.5\n\n\n2\nAlice\n1299.3\n\n\n3\nCharlie\n1299.2\n\n\n\n\n\n\n\n\n3.4 Match 4: Alice vs Bob (Rematch!)\nBefore Match: - Alice: 1299 rating - Bob: 1301 rating (Bob barely ahead now!) - Expected: Nearly 50-50 (Bob 50.3% to win)\nAlice wins! (Redemption!)\n\n\n\nMatch 4 Results - Close Match!\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nAlice\n1299.3\n49.7%\nWon\n+16.1\n1315.4\n\n\nBob\n1301.5\n50.3%\nLost\n-16.1\n1285.4\n\n\n\n\n\nAfter Match 4:\n\n\n\nCurrent Standings After Match 4\n\n\nrank\nname\nrating\n\n\n\n\n1\nAlice\n1315.4\n\n\n2\nCharlie\n1299.2\n\n\n3\nBob\n1285.4\n\n\n\n\n\n\n\n\n3.5 Match 5: Charlie vs Bob (Battle for Last Place)\nBefore Match: - Bob: 1285 rating - Charlie: 1300 rating - Expected: Charlie should win 52% of the time\nCharlie wins (as expected)\n\n\n\nMatch 5 Results - Expected Outcome\n\n\nname\nold_rating\nexpected\nactual\nchange\nnew_rating\n\n\n\n\nCharlie\n1299.2\n52%\nWon\n+15.4\n1314.6\n\n\nBob\n1285.4\n48%\nLost\n-15.4\n1270.0\n\n\n\n\n\nFinal Standings:\n\n\n\nFinal Standings After 5 Matches\n\n\nRank\nPlayer\nRating\nChange from Start\n\n\n\n\n1\nAlice\n1315.4\n15.4\n\n\n2\nCharlie\n1314.6\n14.6\n\n\n3\nBob\n1270.0\n-30.0\n\n\n\n\n\n\n\n\n3.6 Key Insights from These Examples:\n\nEqual players (Match 1): 50-50 expected, winner gets +16, loser gets -16\nUpsets reward more points: Charlie and Bob gained 17+ points from their upsets\nClose matches: When ratings are nearly equal, point swings are around 16\nExpected wins: When the favorite wins, they gain fewer points (Match 5: +15)\nSystem stays balanced: Total points = 3900 (1300 √ó 3 players) throughout all matches\nWin-loss records don‚Äôt tell the whole story: Alice is 2-1 but ranked 1st, Bob is 1-3 but close to Charlie (2-1)"
  },
  {
    "objectID": "rank_ladder_new.html#how-to-use-this-system",
    "href": "rank_ladder_new.html#how-to-use-this-system",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "4 4. How to Use This System",
    "text": "4 4. How to Use This System\n\nRecord match results - Log who played, when, and who won\nSystem automatically updates - Ratings adjust after each match\nView current rankings - Check the leaderboard anytime\nTrack progress - See how your rating evolves over time\nFair competition - Beating stronger opponents = bigger rewards!\n\nThe system is designed to be fair, transparent, and encourage players to challenge themselves by playing opponents of all skill levels."
  },
  {
    "objectID": "rank_ladder.html#how-to-use-this-system",
    "href": "rank_ladder.html#how-to-use-this-system",
    "title": "VT Club Tennis Elo Ranking System",
    "section": "4 4. How to Use This System",
    "text": "4 4. How to Use This System\n\nRecord match results - Log who played, when, and who won\nSystem automatically updates - Ratings adjust after each match\nView current rankings - Check the leaderboard anytime\nTrack progress - See how your rating evolves over time\nFair competition - Beating stronger opponents = bigger rewards!\n\nThe system is designed to be fair, transparent, and encourage players to challenge themselves by playing opponents of all skill levels."
  }
]